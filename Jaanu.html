<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Answer me</title>
  <!-- favicon / title-bar icon -->
  <link rel="icon" href="images/logo.png" type="image/png">
  <link rel="apple-touch-icon" href="images/logo.png">
  <meta name="theme-color" content="#0b1020">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-a:#0b1020; --bg-b:#231233;
    --accent-1:#ff7aa2; --accent-2:#ffd06a;
    --muted:#b7c2d1; --glass: rgba(255,255,255,0.02);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Poppins",system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(135deg,var(--bg-a),var(--bg-b));color:#fff;-webkit-font-smoothing:antialiased}
  .app{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .frame{
    width:min(980px,96%); max-width:980px;
    background:
      linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.25)),
      radial-gradient(600px 220px at 10% 20%, rgba(255,122,162,0.03), transparent 6%),
      radial-gradient(500px 180px at 90% 80%, rgba(255,208,106,0.02), transparent 6%),
      url('images/bg.jpg');
    background-size: cover, auto, auto, cover;
    background-position: center, left top, right bottom, center;
    border-radius:14px; padding:28px; box-shadow:0 30px 80px rgba(0,0,0,0.6); position:relative;
    overflow: hidden;
  }

  header{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:6px}
  .logo{width:56px;height:56px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));box-shadow:0 8px 24px rgba(0,0,0,0.35)}
  .logo img{width:100%;height:100%;object-fit:cover;display:block}
  .hdr{display:flex;flex-direction:column;align-items:center}
  .hdr .title{font-family:'Playfair Display',serif;font-size:22px;margin:0}
  .hdr .tag{font-size:12px;color:var(--muted)}

  .pages{width:100%}
  .page{display:none;flex-direction:column;align-items:center;gap:18px}
  .page.active{display:flex}

  .mainTitle{font-family:'Playfair Display',serif;font-size:30px;margin:8px 0;text-align:center}
  .subtitle{color:var(--muted);font-size:14px;text-align:center;max-width:860px;margin:0 auto}

  /* page2 specific: left-align header and hero image */
  /* center the main title on page2 */
  #page2 .mainTitle{ text-align:center; width:100%; align-self:center; margin:6px 0 }
  .heroImage{
    width:100%;
    max-width:720px;
    height:auto;
    max-height:calc(55vh);
    object-fit:contain;
    border-radius:12px;
    display:block;
    margin:6px 0 12px;
    cursor:zoom-in;
  }

  .frame.noHeader header{ display:none; }
  .page2Banner{
    width:100%;
    max-width:980px;
    margin:0 auto 10px;
    padding:10px 16px;
    border-radius:10px;
    background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
    color:#111;
    font-weight:900;
    text-align:center;
    font-family:'Playfair Display',serif;
    font-size:28px;               /* larger banner text (first line) */
    letter-spacing:0.6px;
    box-shadow:0 12px 36px rgba(0,0,0,0.35);
    line-height:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
  }
  .page2Banner .bannerSub{
    font-size:13px;               /* smaller second line */
    font-weight:600;
    margin-top:6px;
    color:rgba(17,17,17,0.92);
  }
  @media (max-width:720px){
    .page2Banner{ font-size:20px; padding:8px 12px }
    .page2Banner .bannerSub{ font-size:12px }
  }

  .imgZoomOverlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.92);z-index:99999}
  .imgZoomOverlay img{max-width:96%;max-height:96%;object-fit:contain;border-radius:8px;box-shadow:0 20px 80px rgba(0,0,0,0.7)}

  .videoEndModal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:100000}
  .videoEndBox{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);text-align:center;max-width:420px;width:92%}
  .videoEndTitle{font-weight:800;margin-bottom:12px;font-family:'Playfair Display',serif}
  .videoEndBtns{display:flex;gap:10px;justify-content:center;margin-bottom:8px;flex-wrap:wrap}
  .videoEndNote{font-size:13px;color:var(--muted)}

  .videoBottom{width:100%;display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:18px}
  .inlineVideo{width:100%;max-width:880px;height:220px;border-radius:10px;object-fit:cover;box-shadow:0 18px 60px rgba(0,0,0,0.45);border:1px solid rgba(255,255,255,0.04);display:none}
  .inlineVideo.active{display:block}
  .videoControls{display:flex;justify-content:center;gap:12px;margin-top:6px}

  #playVideoBtn{min-width:220px;padding:14px 20px;font-size:18px;border-radius:14px;font-weight:800;background: linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#111;border:none;box-shadow:0 18px 60px rgba(255,122,162,0.08);cursor:pointer}
  #playVideoBtn .playHint{display:block;font-size:12px;margin-top:6px;font-weight:700;color:rgba(17,17,17,0.85)}

  .actionButtons{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:14px}
  .questionBlock{width:100%;max-width:720px;margin:10px auto;display:flex;flex-direction:column;gap:12px}
  .question{background:rgba(255,255,255,0.02);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .question h3{margin:0 0 8px 0;font-size:16px}
  .qBtns{display:flex;gap:10px}
  .ans{min-width:88px;padding:8px 12px;border-radius:10px;border:none;cursor:pointer;background:rgba(255,255,255,0.03);color:#fff}
  .ans.active{outline:3px solid rgba(255,122,162,0.15);background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#111}
  .actionButtons .btn{min-width:120px;padding:10px 14px;border-radius:12px;border:none;cursor:pointer;font-weight:700}
  .btn.primary{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#111}
  .btn.alt{background:rgba(255,255,255,0.03);color:#fff;border:1px solid rgba(255,255,255,0.04)}

  .memoryStage{width:100%;display:flex;align-items:center;justify-content:center;padding:18px 0}
  .card{width:min(740px,86%);height:min(440px,54vh);border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;box-shadow:0 30px 90px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.03)}
  .card img{max-width:100%;max-height:100%;object-fit:contain;transition:opacity .35s ease, transform .6s ease;display:block;opacity:1}

  .mem-controls{position:absolute;bottom:14px;left:50%;transform:translateX(-50%);display:flex;gap:10px}
  .btn.ghost{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px 12px;border-radius:10px;cursor:pointer}

  .centerCaption{margin-top:12px;text-align:center}
  .centerCaption .main{font-family:'Playfair Display',serif;font-size:20px;margin:6px 0}
  .centerCaption .sub{color:var(--muted);font-size:13px;margin-top:6px}

  @media (max-width:720px){
    .card{height:42vh}
    .mainTitle{font-size:22px}
    .inlineVideo{height:140px}
  }
  @media (max-width:420px){
    .card{height:40vh}
    .actionButtons{flex-direction:column;gap:8px}
    .inlineVideo{height:110px}
  }
</style>
</head>
<body>
<div class="app">
  <div class="frame" role="application" aria-label="Birthday Journey">

    <header>
      <div class="logo"><img src="images/logo.png" alt="Suno logo"></div>
      <div class="hdr">
        <div class="title">Suno</div>
        <div class="tag">Start the journey</div>
      </div>
    </header>

    <div class="pages">
      <section id="page1" class="page active" aria-label="Home">
        <h1 class="mainTitle">Welcome</h1>
        <p class="subtitle">Respond to every question to reach next level.</p>

        <!-- questions (now 6). Auto-advance when all answered -->
        <div class="questionBlock" aria-hidden="false">
          <div class="question" data-q="1">
            <h3>1) Do you like surprises?</h3>
            <div class="qBtns">
              <button class="ans" data-q="1" data-val="yes">Yes</button>
              <button class="ans" data-q="1" data-val="no">No</button>
            </div>
          </div>
          <div class="question" data-q="2">
            <h3>2) Do you like holding hands in public?</h3>
            <div class="qBtns">
              <button class="ans" data-q="2" data-val="yes">Yes</button>
              <button class="ans" data-q="2" data-val="no">No</button>
            </div>
          </div>
          <div class="question" data-q="3">
            <h3>3) Would you like to see our photos?</h3>
            <div class="qBtns">
              <button class="ans" data-q="3" data-val="yes">Yes</button>
              <button class="ans" data-q="3" data-val="no">No</button>
            </div>
          </div>
          <div class="question" data-q="4">
            <h3>4) Do you enjoy spending time wiith me?</h3>
            <div class="qBtns">
              <button class="ans" data-q="4" data-val="yes">Yes</button>
              <button class="ans" data-q="4" data-val="no">No</button>
            </div>
          </div>
          <div class="question" data-q="5">
            <h3>5) Are you really happy with me?</h3>
            <div class="qBtns">
              <button class="ans" data-q="5" data-val="yes">Yes</button>
              <button class="ans" data-q="5" data-val="no">No</button>
            </div>
          </div>
          <div class="question" data-q="6">
            <h3> click the button for level 2.</h3>
            <div class="qBtns">
              <button class="ans" data-q="6" data-val="LEVEL 2">LEVEL 2</button>
              <!-- <button class="ans" data-q="6" data-val="no">No</button> -->
            </div>
          </div>
        </div>

        <div class="actionButtons">
          <!-- no action button here ‚Äî auto-advance when all questions answered -->
        </div>
      </section>

      <section id="page2" class="page" aria-label="Birthday memories">
        <div class="page2Banner">
          üéâ Happy Birthday to the woman who stole my heart!üéâ
          <span class="bannerSub"><b>You're my best friend, my partner, and the love of my life.</b></span>
        </div>

        <h1 class="mainTitle">Happy Birthday Chanduuuu...<br>(\_/)<br>(‚Ä¢.‚Ä¢)<br/>/>‚ù§Ô∏è I love youuuu</h1>

        <img id="heroImg" class="heroImage" src="images/hero.jpg" alt="Happy moments" tabindex="0" role="button" aria-label="Open hero image">

        <div class="memoryStage">
          <div id="singleCard" class="card" aria-live="polite">
            <img id="singleImg" src="" alt="memory">
            <div class="mem-controls">
              <button id="prevMem" class="btn ghost" aria-label="previous">‚Äπ Prev</button>
              <button id="nextMem" class="btn ghost" aria-label="next">Next ‚Ä∫</button>
            </div>
          </div>
        </div>

        <div class="videoBottom">
          <video id="inlineVideo" class="inlineVideo" preload="metadata" playsinline>
            <source src="video/jaanu og.mp4" type="video/mp4">
          </video>
          <div class="videoControls">
            <button id="playVideoBtn" class="btn alt">
              Hey jst tap here to see something spcl
            </button>
          </div>
        </div>

        <!-- greeting moved to top of the page -->
      </section>
    </div>
  </div>
</div>

<audio id="audio" preload="metadata"></audio>

<script>
/* data */
const MEMORIES = [
  "images/20250619_141320.jpg",
  "images/IMG-20251011-WA0090.jpg",
  "images/Snapchat-1792919724.jpg",
  "images/20250829_124318.jpg",
  "images/Snapchat-316745033.jpg",
  "images/20250829_124126.jpg",
  "images/Snapchat-1805236803.jpg",
  "images/IMG-20250325-WA0048(1).jpg",
  "images/Snapchat-768747246.jpg"
];

/* DOM refs */
const page1 = document.getElementById('page1');
const page2 = document.getElementById('page2');
const audio = document.getElementById('audio');
const singleImg = document.getElementById('singleImg');
const prevMem = document.getElementById('prevMem');
const nextMem = document.getElementById('nextMem');
const inlineVideo = document.getElementById('inlineVideo');
const playVideoBtn = document.getElementById('playVideoBtn');
const answerButtons = document.querySelectorAll('.ans');
const frame = document.querySelector('.frame');
const heroImg = document.getElementById('heroImg');

/* state */
let answers = {1: null, 2: null, 3: null, 4: null, 5: null, 6: null};
let memIndex = 0;
let loopTimer = null;
let isLooping = true;
let audioWasPlayingBeforeVideo = false;
let videoVisible = false;

/* helpers */
function showPage(el){
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  el.classList.add('active');
  if(frame) frame.classList.toggle('noHeader', el.id === 'page2');
}

function allQuestionsAnswered(){
  return Object.values(answers).every(v => v);
}

/* questions: mark answers and auto-advance when all answered */
if(answerButtons && answerButtons.length){
  answerButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const q = e.currentTarget.dataset.q;
      const val = e.currentTarget.dataset.val;
      if(!q) return;
      document.querySelectorAll(`.ans[data-q="${q}"]`).forEach(b => b.classList.remove('active'));
      e.currentTarget.classList.add('active');
      answers[q] = val;
      if(allQuestionsAnswered()){
        setTimeout(() => {
          showPage(page2);
          initMemoryCycle();
        }, 600);
      }
    });
  });
}

/* memory slideshow */
function showMemory(i){
  if(!MEMORIES.length) return;
  memIndex = ((i % MEMORIES.length) + MEMORIES.length) % MEMORIES.length;
  singleImg.style.opacity = 0;
  setTimeout(() => {
    singleImg.src = MEMORIES[memIndex];
    singleImg.alt = `Memory ${memIndex+1}`;
    singleImg.onload = () => singleImg.style.opacity = 1;
  }, 220);
}

function startLoop(){
  clearInterval(loopTimer);
  if(!isLooping) return;
  loopTimer = setInterval(()=> showMemory(memIndex + 1), 1500); // faster slideshow
}
function stopLoop(){ clearInterval(loopTimer); }
function initMemoryCycle(){ showMemory(0); startLoop(); }

if(prevMem) prevMem.addEventListener('click', ()=>{ showMemory(memIndex - 1); restartLoop(); });
if(nextMem) nextMem.addEventListener('click', ()=>{ showMemory(memIndex + 1); restartLoop(); });
function restartLoop(){ stopLoop(); setTimeout(()=> { if(isLooping) startLoop(); }, 800); }

/* video behavior */
if(playVideoBtn && inlineVideo){
  playVideoBtn.addEventListener('click', async () => {
    try{ audioWasPlayingBeforeVideo = !!(audio && !audio.paused && !audio.ended); }catch(e){}
    if(!videoVisible){
      inlineVideo.classList.add('active');
      videoVisible = true;
      if(audio && !audio.paused) try{ audio.pause(); }catch(e){}
      try{ await inlineVideo.play(); }catch(e){}
      try{
        if(inlineVideo.requestFullscreen) await inlineVideo.requestFullscreen();
        else if(inlineVideo.webkitRequestFullscreen) await inlineVideo.webkitRequestFullscreen();
        else if(inlineVideo.msRequestFullscreen) await inlineVideo.msRequestFullscreen();
      }catch(e){}
      playVideoBtn.textContent = 'Pause';
      return;
    }
    // if visible -> pause and hide
    try{ inlineVideo.pause(); }catch(e){}
    inlineVideo.classList.remove('active');
    videoVisible = false;
    playVideoBtn.textContent = 'Hey jst tap here to see something spcl';
    try{ if(document.fullscreenElement) await document.exitFullscreen(); }catch(e){}
    if(audioWasPlayingBeforeVideo && audio){ audio.play().catch(()=>{}); audioWasPlayingBeforeVideo = false; }
  });

  inlineVideo.addEventListener('ended', async ()=> {
    try{ if(document.fullscreenElement) await document.exitFullscreen(); }catch(e){}
    try{ inlineVideo.pause(); }catch(e){}
    inlineVideo.classList.remove('active');
    videoVisible = false;
    playVideoBtn.textContent = 'Hey jst tap here to see something spcl';
    showVideoEndOptions();
  });

  document.addEventListener('fullscreenchange', () => {
    if(!document.fullscreenElement){
      try{ inlineVideo.pause(); }catch(e){}
      inlineVideo.classList.remove('active');
      videoVisible = false;
      playVideoBtn.textContent = 'Hey jst tap here to see something spcl';
      if(audioWasPlayingBeforeVideo && audio){ audio.play().catch(()=>{}); audioWasPlayingBeforeVideo = false; }
    }
  });
}

/* video end modal */
function showVideoEndOptions(){
  const modal = document.createElement('div');
  modal.className = 'videoEndModal';
  modal.innerHTML = `
    <div class="videoEndBox" role="dialog" aria-modal="true">
      <div class="videoEndTitle">That was special ‚ú®</div>
      <div class="videoEndBtns">
        <button id="replayBtn" class="btn primary">Replay</button>
        <button id="exitBtn" class="btn alt">Exit</button>
        <button id="closeBtn" class="btn">Close</button>
      </div>
      <div class="videoEndNote">Auto-exit to home in <span id="countdown">6</span>s</div>
    </div>
  `;
  document.body.appendChild(modal);

  const countdownEl = modal.querySelector('#countdown');
  const replayBtn = modal.querySelector('#replayBtn');
  const exitBtn = modal.querySelector('#exitBtn');
  const closeBtn = modal.querySelector('#closeBtn');

  let count = 6;
  const timer = setInterval(()=> {
    count--;
    if(countdownEl) countdownEl.textContent = count;
    if(count <= 0){
      clearInterval(timer);
      cleanupAndExit();
    }
  }, 1000);

  function cleanupModal(){
    clearInterval(timer);
    modal.remove();
  }

  async function cleanupAndExit(){
    cleanupModal();
    if(audioWasPlayingBeforeVideo && audio){ audio.play().catch(()=>{}); audioWasPlayingBeforeVideo = false; }
    showPage(page1);
  }

  replayBtn.addEventListener('click', async () => {
    cleanupModal();
    inlineVideo.classList.add('active');
    videoVisible = true;
    try{ inlineVideo.currentTime = 0; await inlineVideo.play(); }catch(e){}
    try{ if(inlineVideo.requestFullscreen) await inlineVideo.requestFullscreen(); }catch(e){}
    try{ if(audio && !audio.paused) audio.pause(); }catch(e){}
    playVideoBtn.textContent = 'Pause';
  });

  exitBtn.addEventListener('click', cleanupAndExit);
  closeBtn.addEventListener('click', cleanupModal);
}

/* hero zoom overlay */
if(heroImg){
  heroImg.addEventListener('click', showHeroZoom);
  heroImg.addEventListener('keydown', (e)=> { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); showHeroZoom(); } });
}

function showHeroZoom(){
  const overlay = document.createElement('div');
  overlay.className = 'imgZoomOverlay';
  const img = document.createElement('img');
  img.src = heroImg.src;
  img.alt = heroImg.alt || 'Hero image';
  overlay.appendChild(img);
  document.body.appendChild(overlay);

  function removeOverlay(){
    document.removeEventListener('keydown', onKey);
    overlay.remove();
  }
  function onKey(e){ if(e.key === 'Escape') removeOverlay(); }
  overlay.addEventListener('click', removeOverlay);
  document.addEventListener('keydown', onKey);
}

/* keyboard: space toggles audio play/pause */
document.addEventListener('keydown', (e)=>{
  if(e.code === 'Space'){ e.preventDefault(); if(audio.paused) audio.play(); else audio.pause(); }
});

/* visibility / resize handlers */
document.addEventListener('visibilitychange', ()=> {
  if(document.visibilityState === 'visible' && isLooping) startLoop(); else stopLoop();
});
window.addEventListener('resize', ()=> { /* responsive layout handled by CSS */ });

/* preload memories and init */
(function preload(){
  MEMORIES.forEach(src => { const i = new Image(); i.src = src; });
  try{ audio.volume = 0.8; }catch(e){}
})();

showPage(page1);
</script>
</body>
</html>